# 0 "arch/arm64/boot/dts/ti/k3-am654-icssg2.dtso"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/ti/k3-am654-icssg2.dtso"







/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/net/ti-dp83867.h" 1
# 12 "arch/arm64/boot/dts/ti/k3-am654-icssg2.dtso" 2
# 1 "arch/arm64/boot/dts/ti/k3-pinctrl.h" 1
# 13 "arch/arm64/boot/dts/ti/k3-am654-icssg2.dtso" 2

&{/} {
 aliases {
  ethernet1 = "/icssg2-eth/ethernet-ports/port@0";
  ethernet2 = "/icssg2-eth/ethernet-ports/port@1";
 };


 icssg2_eth: icssg2-eth {
  compatible = "ti,am654-icssg-prueth";
  pinctrl-names = "default";
  pinctrl-0 = <&icssg2_rgmii_pins_default>;
  sram = <&msmc_ram>;
  ti,prus = <&pru2_0>, <&rtu2_0>, <&tx_pru2_0>,
   <&pru2_1>, <&rtu2_1>, <&tx_pru2_1>;
  firmware-name = "ti-pruss/am65x-sr2-pru0-prueth-fw.elf",
    "ti-pruss/am65x-sr2-rtu0-prueth-fw.elf",
    "ti-pruss/am65x-sr2-txpru0-prueth-fw.elf",
    "ti-pruss/am65x-sr2-pru1-prueth-fw.elf",
    "ti-pruss/am65x-sr2-rtu1-prueth-fw.elf",
    "ti-pruss/am65x-sr2-txpru1-prueth-fw.elf";

  ti,pruss-gp-mux-sel = <2>,
          <2>,
          <2>,
          <2>,
          <2>,
          <2>;

  ti,mii-g-rt = <&icssg2_mii_g_rt>;
  ti,mii-rt = <&icssg2_mii_rt>;
  ti,iep = <&icssg2_iep0>, <&icssg2_iep1>;

  interrupt-parent = <&icssg2_intc>;
  interrupts = <24 0 2>, <25 1 3>;
  interrupt-names = "tx_ts0", "tx_ts1";

  dmas = <&main_udmap 0xc300>,
         <&main_udmap 0xc301>,
         <&main_udmap 0xc302>,
         <&main_udmap 0xc303>,
         <&main_udmap 0xc304>,
         <&main_udmap 0xc305>,
         <&main_udmap 0xc306>,
         <&main_udmap 0xc307>,
         <&main_udmap 0x4300>,
         <&main_udmap 0x4301>;

  dma-names = "tx0-0", "tx0-1", "tx0-2", "tx0-3",
       "tx1-0", "tx1-1", "tx1-2", "tx1-3",
       "rx0", "rx1";
  ethernet-ports {
   #address-cells = <1>;
   #size-cells = <0>;
   icssg2_emac0: port@0 {
    reg = <0>;
    phy-handle = <&icssg2_phy0>;
    phy-mode = "rgmii-id";
    ti,syscon-rgmii-delay = <&scm_conf 0x4120>;

    local-mac-address = [00 00 00 00 00 00];
   };
   icssg2_emac1: port@1 {
    reg = <1>;
    phy-handle = <&icssg2_phy1>;
    phy-mode = "rgmii-id";
    ti,syscon-rgmii-delay = <&scm_conf 0x4124>;

    local-mac-address = [00 00 00 00 00 00];
   };
  };
 };
};

&main_pmx0 {

 icssg2_mdio_pins_default: icssg2-mdio-default-pins {
  pinctrl-single,pins = <
   (((0x0094) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00c8) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
  >;
 };

 icssg2_rgmii_pins_default: icssg2-rgmii-default-pins {
  pinctrl-single,pins = <
   (((0x00ac) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00b0) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00b4) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00b8) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00cc) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00d0) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00d4) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00d8) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00dc) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00c4) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00c0) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x00bc) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))

   (((0x0078) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x007c) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x0080) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x0084) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x0098) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x009c) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00a0) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00a4) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x00a8) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x0090) & 0x1fff)) ((((0 << (18)) | (1 << (16)))) | (2))
   (((0x008c) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
   (((0x0088) & 0x1fff)) ((((1 << (18)) | (1 << (16)))) | (2))
  >;
 };
};

&icssg2_mdio {
 status = "okay";
 pinctrl-names = "default";
 pinctrl-0 = <&icssg2_mdio_pins_default>;
 #address-cells = <1>;
 #size-cells = <0>;

 icssg2_phy0: ethernet-phy@0 {
  reg = <0>;
  ti,rx-internal-delay = <0x7>;
  ti,fifo-depth = <0x01>;
 };

 icssg2_phy1: ethernet-phy@3 {
  reg = <3>;
  ti,rx-internal-delay = <0x7>;
  ti,fifo-depth = <0x01>;
 };
};
