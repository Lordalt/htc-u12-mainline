# 0 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts"






/dts-v1/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 10 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts" 2
# 1 "arch/arm64/boot/dts/st/stm32mp257.dtsi" 1





# 1 "arch/arm64/boot/dts/st/stm32mp255.dtsi" 1





# 1 "arch/arm64/boot/dts/st/stm32mp253.dtsi" 1





# 1 "arch/arm64/boot/dts/st/stm32mp251.dtsi" 1





# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 1
# 9 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h"
# 1 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/irq.h" 1
# 10 "./scripts/dtc/include-prefixes/dt-bindings/interrupt-controller/arm-gic.h" 2
# 7 "arch/arm64/boot/dts/st/stm32mp251.dtsi" 2

/ {
 #address-cells = <2>;
 #size-cells = <2>;

 cpus {
  #address-cells = <1>;
  #size-cells = <0>;

  cpu0: cpu@0 {
   compatible = "arm,cortex-a35";
   device_type = "cpu";
   reg = <0>;
   enable-method = "psci";
  };
 };

 arm-pmu {
  compatible = "arm,cortex-a35-pmu";
  interrupts = <0 368 4>;
  interrupt-affinity = <&cpu0>;
  interrupt-parent = <&intc>;
 };

 arm_wdt: watchdog {
  compatible = "arm,smc-wdt";
  arm,smc-id = <0xb200005a>;
  status = "disabled";
 };

 clocks {
  ck_flexgen_08: ck-flexgen-08 {
   #clock-cells = <0>;
   compatible = "fixed-clock";
   clock-frequency = <100000000>;
  };

  ck_flexgen_51: ck-flexgen-51 {
   #clock-cells = <0>;
   compatible = "fixed-clock";
   clock-frequency = <200000000>;
  };

  ck_icn_ls_mcu: ck-icn-ls-mcu {
   #clock-cells = <0>;
   compatible = "fixed-clock";
   clock-frequency = <200000000>;
  };
 };

 firmware {
  optee {
   compatible = "linaro,optee-tz";
   method = "smc";
  };

  scmi {
   compatible = "linaro,scmi-optee";
   #address-cells = <1>;
   #size-cells = <0>;
   linaro,optee-channel-id = <0>;

   scmi_clk: protocol@14 {
    reg = <0x14>;
    #clock-cells = <1>;
   };

   scmi_reset: protocol@16 {
    reg = <0x16>;
    #reset-cells = <1>;
   };
  };
 };

 intc: interrupt-controller@4ac00000 {
  compatible = "arm,cortex-a7-gic";
  #interrupt-cells = <3>;
  #address-cells = <1>;
  interrupt-controller;
  reg = <0x0 0x4ac10000 0x0 0x1000>,
        <0x0 0x4ac20000 0x0 0x2000>,
        <0x0 0x4ac40000 0x0 0x2000>,
        <0x0 0x4ac60000 0x0 0x2000>;
 };

 psci {
  compatible = "arm,psci-1.0";
  method = "smc";
 };

 timer {
  compatible = "arm,armv8-timer";
  interrupt-parent = <&intc>;
  interrupts = <1 13 ((((1 << (4)) - 1) << 8) | 8)>,
        <1 14 ((((1 << (4)) - 1) << 8) | 8)>,
        <1 11 ((((1 << (4)) - 1) << 8) | 8)>,
        <1 10 ((((1 << (4)) - 1) << 8) | 8)>;
  always-on;
 };

 soc@0 {
  compatible = "simple-bus";
  #address-cells = <1>;
  #size-cells = <1>;
  interrupt-parent = <&intc>;
  ranges = <0x0 0x0 0x0 0x80000000>;

  rifsc: rifsc-bus@42080000 {
   compatible = "simple-bus";
   reg = <0x42080000 0x1000>;
   #address-cells = <1>;
   #size-cells = <1>;
   ranges;

   usart2: serial@400e0000 {
    compatible = "st,stm32h7-uart";
    reg = <0x400e0000 0x400>;
    interrupts = <0 115 4>;
    clocks = <&ck_flexgen_08>;
    status = "disabled";
   };

   sdmmc1: mmc@48220000 {
    compatible = "st,stm32mp25-sdmmc2", "arm,pl18x", "arm,primecell";
    arm,primecell-periphid = <0x00353180>;
    reg = <0x48220000 0x400>, <0x44230400 0x8>;
    interrupts = <0 123 4>;
    clocks = <&ck_flexgen_51>;
    clock-names = "apb_pclk";
    cap-sd-highspeed;
    cap-mmc-highspeed;
    max-frequency = <120000000>;
    status = "disabled";
   };
  };

  syscfg: syscon@44230000 {
   compatible = "st,stm32mp25-syscfg", "syscon";
   reg = <0x44230000 0x10000>;
  };

  pinctrl: pinctrl@44240000 {
   #address-cells = <1>;
   #size-cells = <1>;
   compatible = "st,stm32mp257-pinctrl";
   ranges = <0 0x44240000 0xa0400>;
   pins-are-numbered;

   gpioa: gpio@44240000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x0 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOA";
    status = "disabled";
   };

   gpiob: gpio@44250000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x10000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOB";
    status = "disabled";
   };

   gpioc: gpio@44260000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x20000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOC";
    status = "disabled";
   };

   gpiod: gpio@44270000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x30000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOD";
    status = "disabled";
   };

   gpioe: gpio@44280000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x40000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOE";
    status = "disabled";
   };

   gpiof: gpio@44290000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x50000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOF";
    status = "disabled";
   };

   gpiog: gpio@442a0000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x60000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOG";
    status = "disabled";
   };

   gpioh: gpio@442b0000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x70000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOH";
    status = "disabled";
   };

   gpioi: gpio@442c0000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x80000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOI";
    status = "disabled";
   };

   gpioj: gpio@442d0000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0x90000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOJ";
    status = "disabled";
   };

   gpiok: gpio@442e0000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0xa0000 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOK";
    status = "disabled";
   };
  };

  pinctrl_z: pinctrl@46200000 {
   #address-cells = <1>;
   #size-cells = <1>;
   compatible = "st,stm32mp257-z-pinctrl";
   ranges = <0 0x46200000 0x400>;
   pins-are-numbered;

   gpioz: gpio@46200000 {
    gpio-controller;
    #gpio-cells = <2>;
    interrupt-controller;
    #interrupt-cells = <2>;
    reg = <0 0x400>;
    clocks = <&ck_icn_ls_mcu>;
    st,bank-name = "GPIOZ";
    st,bank-ioport = <11>;
    status = "disabled";
   };

  };
 };
};
# 7 "arch/arm64/boot/dts/st/stm32mp253.dtsi" 2

/ {
 cpus {
  cpu1: cpu@1 {
   compatible = "arm,cortex-a35";
   device_type = "cpu";
   reg = <1>;
   enable-method = "psci";
  };
 };

 arm-pmu {
  interrupts = <0 368 4>,
        <0 369 4>;
  interrupt-affinity = <&cpu0>, <&cpu1>;
 };
};
# 7 "arch/arm64/boot/dts/st/stm32mp255.dtsi" 2

/ {
};
# 7 "arch/arm64/boot/dts/st/stm32mp257.dtsi" 2

/ {
};
# 11 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts" 2
# 1 "arch/arm64/boot/dts/st/stm32mp25xf.dtsi" 1






/ {
};
# 12 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts" 2
# 1 "arch/arm64/boot/dts/st/stm32mp25-pinctrl.dtsi" 1





# 1 "./scripts/dtc/include-prefixes/dt-bindings/pinctrl/stm32-pinfunc.h" 1
# 7 "arch/arm64/boot/dts/st/stm32mp25-pinctrl.dtsi" 2

&pinctrl {
 sdmmc1_b4_pins_a: sdmmc1-b4-0 {
  pins1 {
   pinmux = <(((((('E') - 'A') * 0x10 + (4))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (5))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (0))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (1))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (2))) << 8) | (0xb))>;
   slew-rate = <2>;
   drive-push-pull;
   bias-disable;
  };
  pins2 {
   pinmux = <(((((('E') - 'A') * 0x10 + (3))) << 8) | (0xb))>;
   slew-rate = <3>;
   drive-push-pull;
   bias-disable;
  };
 };

 sdmmc1_b4_od_pins_a: sdmmc1-b4-od-0 {
  pins1 {
   pinmux = <(((((('E') - 'A') * 0x10 + (4))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (5))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (0))) << 8) | (0xb))>,
     <(((((('E') - 'A') * 0x10 + (1))) << 8) | (0xb))>;
   slew-rate = <2>;
   drive-push-pull;
   bias-disable;
  };
  pins2 {
   pinmux = <(((((('E') - 'A') * 0x10 + (3))) << 8) | (0xb))>;
   slew-rate = <3>;
   drive-push-pull;
   bias-disable;
  };
  pins3 {
   pinmux = <(((((('E') - 'A') * 0x10 + (2))) << 8) | (0xb))>;
   slew-rate = <2>;
   drive-open-drain;
   bias-disable;
  };
 };

 sdmmc1_b4_sleep_pins_a: sdmmc1-b4-sleep-0 {
  pins {
   pinmux = <(((((('E') - 'A') * 0x10 + (4))) << 8) | (0x11))>,
     <(((((('E') - 'A') * 0x10 + (5))) << 8) | (0x11))>,
     <(((((('E') - 'A') * 0x10 + (0))) << 8) | (0x11))>,
     <(((((('E') - 'A') * 0x10 + (1))) << 8) | (0x11))>,
     <(((((('E') - 'A') * 0x10 + (3))) << 8) | (0x11))>,
     <(((((('E') - 'A') * 0x10 + (2))) << 8) | (0x11))>;
  };
 };

 usart2_pins_a: usart2-0 {
  pins1 {
   pinmux = <(((((('A') - 'A') * 0x10 + (4))) << 8) | (0x7))>;
   bias-disable;
   drive-push-pull;
   slew-rate = <0>;
  };
  pins2 {
   pinmux = <(((((('A') - 'A') * 0x10 + (8))) << 8) | (0x9))>;
   bias-disable;
  };
 };

 usart2_idle_pins_a: usart2-idle-0 {
  pins1 {
   pinmux = <(((((('A') - 'A') * 0x10 + (4))) << 8) | (0x11))>;
  };
  pins2 {
   pinmux = <(((((('A') - 'A') * 0x10 + (8))) << 8) | (0x9))>;
   bias-disable;
  };
 };

 usart2_sleep_pins_a: usart2-sleep-0 {
  pins {
   pinmux = <(((((('A') - 'A') * 0x10 + (4))) << 8) | (0x11))>,
     <(((((('A') - 'A') * 0x10 + (8))) << 8) | (0x11))>;
  };
 };
};
# 13 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts" 2
# 1 "arch/arm64/boot/dts/st/stm32mp25xxai-pinctrl.dtsi" 1






&pinctrl {
 st,package = <0x100>;

 gpioa: gpio@44240000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 0 16>;
 };

 gpiob: gpio@44250000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 16 16>;
 };

 gpioc: gpio@44260000 {
  status = "okay";
  ngpios = <14>;
  gpio-ranges = <&pinctrl 0 32 14>;
 };

 gpiod: gpio@44270000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 48 16>;
 };

 gpioe: gpio@44280000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 64 16>;
 };

 gpiof: gpio@44290000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 80 16>;
 };

 gpiog: gpio@442a0000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 96 16>;
 };

 gpioh: gpio@442b0000 {
  status = "okay";
  ngpios = <12>;
  gpio-ranges = <&pinctrl 2 114 12>;
 };

 gpioi: gpio@442c0000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 128 16>;
 };

 gpioj: gpio@442d0000 {
  status = "okay";
  ngpios = <16>;
  gpio-ranges = <&pinctrl 0 144 16>;
 };

 gpiok: gpio@442e0000 {
  status = "okay";
  ngpios = <8>;
  gpio-ranges = <&pinctrl 0 160 8>;
 };
};

&pinctrl_z {
 gpioz: gpio@46200000 {
  status = "okay";
  ngpios = <10>;
  gpio-ranges = <&pinctrl_z 0 400 10>;
 };
};
# 14 "arch/arm64/boot/dts/st/stm32mp257f-ev1.dts" 2

/ {
 model = "STMicroelectronics STM32MP257F-EV1 Evaluation Board";
 compatible = "st,stm32mp257f-ev1", "st,stm32mp257";

 aliases {
  serial0 = &usart2;
 };

 chosen {
  stdout-path = "serial0:115200n8";
 };

 memory@80000000 {
  device_type = "memory";
  reg = <0x0 0x80000000 0x1 0x0>;
 };

 reserved-memory {
  #address-cells = <2>;
  #size-cells = <2>;
  ranges;

  fw@80000000 {
   compatible = "shared-dma-pool";
   reg = <0x0 0x80000000 0x0 0x4000000>;
   no-map;
  };
 };

 vdd_sdcard: vdd-sdcard {
  compatible = "regulator-fixed";
  regulator-name = "vdd_sdcard";
  regulator-min-microvolt = <3300000>;
  regulator-max-microvolt = <3300000>;
  regulator-always-on;
 };
};

&arm_wdt {
 timeout-sec = <32>;
 status = "okay";
};

&sdmmc1 {
 pinctrl-names = "default", "opendrain", "sleep";
 pinctrl-0 = <&sdmmc1_b4_pins_a>;
 pinctrl-1 = <&sdmmc1_b4_od_pins_a>;
 pinctrl-2 = <&sdmmc1_b4_sleep_pins_a>;
 cd-gpios = <&gpiod 9 (1 | 16)>;
 disable-wp;
 st,neg-edge;
 bus-width = <4>;
 vmmc-supply = <&vdd_sdcard>;
 status = "okay";
};

&usart2 {
 pinctrl-names = "default", "idle", "sleep";
 pinctrl-0 = <&usart2_pins_a>;
 pinctrl-1 = <&usart2_idle_pins_a>;
 pinctrl-2 = <&usart2_sleep_pins_a>;
 status = "okay";
};
